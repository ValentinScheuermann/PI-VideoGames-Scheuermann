{"ast":null,"code":"export function getVideogames(){return function(dispatch){return fetch(\"http://localhost:3001/videogames\").then(response=>response.json()).then(json=>{dispatch({type:\"GET_VIDEOGAMES\",payload:json});});};}export function searchVideogames(name){return dispatch=>fetch(\"http://localhost:3001/videogames?name=\".concat(name)).then(resp=>resp.json()).then(json=>{dispatch({type:\"SEARCH_VIDEOGAMES\",payload:json});});}export function getVideogameById(id){return dispatch=>fetch(\"http://localhost:3001/videogame/\".concat(id)).then(resp=>resp.json()).then(json=>{dispatch({type:\"GET_VIDEOGAME_BY_ID\",payload:json});});}export function getGenres(){return dispatch=>fetch(\"http://localhost:3001/genres\").then(resp=>resp.json()).then(json=>{dispatch({type:\"GET_GENRES\",payload:json});});}export function createVideogame(obj){return dispatch=>fetch(\"http://localhost:3001/videogame\",{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify(obj)}).then(resp=>resp.json()).then(json=>{dispatch({type:\"CREATE_VIDEOGAME\",payload:json});});}export const resetAll=()=>{return dispatch=>{dispatch({type:\"RESET\"});};};export const filterByGenre=genres=>(dispatch,getState)=>{let filteredGames=[];if(genres===\"All\"){filteredGames=getState().videogames;}else{filteredGames=getState().videogames.filter(game=>game.genres.includes(genres));};dispatch({type:\"FILTER_BY_GENRE\",payload:{genres,videogameGenre:filteredGames}});};export const orderAsc=type=>(dispatch,getState)=>{const filtered=getState().filteredVideogames;let videogamesOrder=[];if(type===\"asc_name\"){videogamesOrder=[...filtered].sort((a,b)=>a.name.localeCompare(b.name));}else if(type===\"asc_rating\"){videogamesOrder=[...filtered].sort((a,b)=>a.rating-b.rating);}dispatch({type:\"ORDER_ASC_RATING\",payload:{videogamesOrder,name:type}});};export const orderDesc=type=>(dispatch,getState)=>{const filtered=getState().filteredVideogames;let videogamesOrder=[];if(type===\"desc_name\"){videogamesOrder=[...filtered].sort((a,b)=>b.name.localeCompare(a.name));}else if(type===\"desc_rating\"){videogamesOrder=[...filtered].sort((a,b)=>b.rating-a.rating);}dispatch({type:\"ORDER_DESC_RATING\",payload:{videogamesOrder,name:type}});};export const orderByCreator=source=>(dispatch,getState)=>{const videogames=getState().videogames.filter(function(G){return G.source===source;});dispatch({type:\"ORDER_BY_CREATOR\",payload:{videogames,source}});};","map":{"version":3,"names":["getVideogames","dispatch","fetch","then","response","json","type","payload","searchVideogames","name","concat","resp","getVideogameById","id","getGenres","createVideogame","obj","method","headers","Accept","body","JSON","stringify","resetAll","filterByGenre","genres","getState","filteredGames","videogames","filter","game","includes","videogameGenre","orderAsc","filtered","filteredVideogames","videogamesOrder","sort","a","b","localeCompare","rating","orderDesc","orderByCreator","source","G"],"sources":["C:/Users/valen/Desktop/Videogames/PI-Videogames-main/PI-Videogames-main/client/src/actions/index.js"],"sourcesContent":["export function getVideogames() {\r\n  return function (dispatch) {\r\n    return fetch(`http://localhost:3001/videogames`)\r\n      .then(response => response.json())\r\n      .then(json => {\r\n        dispatch({ type: \"GET_VIDEOGAMES\", payload: json });\r\n      });\r\n  };\r\n}\r\n\r\nexport function searchVideogames(name) {\r\n  return (dispatch) =>\r\n    fetch(`http://localhost:3001/videogames?name=${name}`)\r\n      .then((resp) => resp.json())\r\n      .then((json) => {\r\n        dispatch({\r\n          type: \"SEARCH_VIDEOGAMES\",\r\n          payload: json,\r\n        });\r\n      });\r\n}\r\n\r\nexport function getVideogameById(id) {\r\n  return (dispatch) =>\r\n    fetch(`http://localhost:3001/videogame/${id}`)\r\n      .then((resp) => resp.json())\r\n      .then((json) => {\r\n        dispatch({\r\n          type: \"GET_VIDEOGAME_BY_ID\",\r\n          payload: json,\r\n        });\r\n      });\r\n}\r\n\r\nexport function getGenres() {\r\n  return (dispatch) =>\r\n    fetch(`http://localhost:3001/genres`)\r\n      .then((resp) => resp.json())\r\n      .then((json) => {\r\n        dispatch({\r\n          type: \"GET_GENRES\",\r\n          payload: json,\r\n        });\r\n      });\r\n}\r\n\r\nexport function createVideogame(obj) {\r\n  return (dispatch) =>\r\n    fetch(\"http://localhost:3001/videogame\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(obj),\r\n    })\r\n      .then((resp) => resp.json())\r\n      .then((json) => {\r\n        dispatch({\r\n          type: \"CREATE_VIDEOGAME\",\r\n          payload: json,\r\n        });\r\n      });\r\n}\r\n\r\nexport const resetAll = () => {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: \"RESET\",\r\n    });\r\n  };\r\n};\r\n\r\n\r\nexport const filterByGenre = (genres) => (dispatch, getState) => {\r\n  let filteredGames = [];\r\n\r\n  if (genres === \"All\") {\r\n    filteredGames = getState().videogames;\r\n  } else {\r\n    filteredGames = getState().videogames.filter((game) =>\r\n      (game.genres).includes(genres)\r\n    )\r\n  };\r\n  dispatch({\r\n    type: \"FILTER_BY_GENRE\",\r\n    payload: {\r\n      genres,\r\n      videogameGenre: filteredGames,\r\n    },\r\n  });\r\n};\r\n\r\n\r\nexport const orderAsc = (type) => (dispatch, getState) => {\r\n  const filtered = getState().filteredVideogames;\r\n  let videogamesOrder = [];\r\n\r\n  if (type === \"asc_name\") {\r\n    videogamesOrder = [...filtered].sort((a, b) => a.name.localeCompare(b.name));\r\n  } else if (type === \"asc_rating\") {\r\n    videogamesOrder = [...filtered].sort((a, b) => a.rating - b.rating);\r\n  }\r\n\r\n  dispatch({\r\n    type: \"ORDER_ASC_RATING\",\r\n    payload: {\r\n      videogamesOrder,\r\n      name: type,\r\n    },\r\n  });\r\n};\r\n\r\nexport const orderDesc = (type) => (dispatch, getState) => {\r\n  const filtered = getState().filteredVideogames;\r\n  let videogamesOrder = [];\r\n\r\n  if (type === \"desc_name\") {\r\n    videogamesOrder = [...filtered].sort((a, b) => b.name.localeCompare(a.name));\r\n  } else if (type === \"desc_rating\") {\r\n    videogamesOrder = [...filtered].sort((a, b) => b.rating - a.rating);\r\n  }\r\n\r\n  dispatch({\r\n    type: \"ORDER_DESC_RATING\",\r\n    payload: {\r\n      videogamesOrder,\r\n      name: type,\r\n    },\r\n  });\r\n};\r\n\r\n\r\n\r\nexport const orderByCreator = (source) => (dispatch, getState) => {\r\n  const videogames = getState().videogames.filter(function (G) {\r\n      return G.source === source\r\n    });\r\n  dispatch({\r\n    type: \"ORDER_BY_CREATOR\",\r\n    payload: {\r\n      videogames,\r\n      source,\r\n    },\r\n  });\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}